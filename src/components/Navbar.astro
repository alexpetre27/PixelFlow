---
import { Button } from "@/components/ui/button";
import { Menu, X, ArrowUpRight } from "lucide-react";
const navItems = [
  { name: "Acasa", href: "#home" },
  { name: "Servicii", href: "#services" },
  { name: "Portofoliu", href: "#work" },
  { name: "Testimoniale", href: "#testimonials" },
 
];
---

<nav
  id="main-nav"
  class="fixed top-8 left-0 right-0 z-100 flex justify-center px-6 transition-all duration-500 ease-out"
>
  <div
    id="nav-container"
    class="w-full max-w-6xl h-14 bg-zinc-950/40 backdrop-blur-2xl border border-white/10 rounded-full flex items-center justify-between pl-2 pr-1.5 shadow-[0_20px_50px_rgba(0,0,0,0.8)] transition-all duration-500 ease-in-out relative z-110"
  >
    <a href="#home" class="flex items-center gap-3 pl-4 shrink-0">
      <div class="w-8 h-8 bg-white text-black rounded-lg flex items-center justify-center font-black italic text-[12px]">
        PF
      </div>
      <span class="text-white font-black tracking-tighter text-sm hidden sm:block">
        PIXELFLOW
      </span>
    </a>

    <div class="hidden md:flex items-center gap-1 bg-white/5 border border-white/5 rounded-full p-1 h-10">
      {navItems.map((item) => (
        <a
          href={item.href}
          class="px-5 py-1.5 text-[10px] uppercase tracking-[0.2em] font-bold text-white hover:text-white transition-all rounded-full hover:bg-white/5"
        >
          {item.name}
        </a>
      ))}
    </div>

    <div class="flex items-center gap-2">
<Button
  client:idle
  variant="ghost"
  className="hidden md:flex items-center h-10 rounded-full px-6 bg-white/5 border border-white/10 text-white font-bold uppercase tracking-[0.15em] text-[10px] hover:bg-white/10 hover:border-white/30 transition-all duration-300"
>
Contact  <ArrowUpRight className="ml-2 w-3.5 h-3.5 text-zinc-400" />
</Button>
      <button
        id="mobile-menu-toggle"
        class="md:hidden w-10 h-10 flex items-center justify-center rounded-full bg-white/10 text-white transition-all outline-none z-120"
        aria-label="Toggle Menu"
      >
        <Menu className="w-5 h-5 menu-icon" />
        <X className="w-5 h-5 close-icon hidden" />
      </button>
    </div>

    <div
      id="mobile-menu"
      class="absolute top-[calc(100%+1rem)] left-0 right-0 bg-zinc-900/95 backdrop-blur-3xl border border-white/10 rounded-4xl p-8 md:hidden opacity-0 -translate-y-5 pointer-events-none transition-all duration-500 z-100 shadow-2xl shadow-black"
    >
      <nav class="flex flex-col gap-6">
        {navItems.map((item) => (
          <a
            href={item.href}
            class="mobile-link text-xl font-bold text-zinc-400 hover:text-white transition-colors tracking-tight"
          >
            {item.name}
          </a>
        
        ))}
<Button
  client:idle
  variant="ghost"
  className="flex w-full items-center justify-center h-14 rounded-2xl bg-white/5 border border-white/10 text-white font-bold uppercase tracking-[0.15em] text-xs hover:bg-white/10 hover:border-white/30 transition-all duration-300"
>
  Contact <ArrowUpRight className="ml-2 w-4 h-4 text-zinc-400" />
</Button>
    </div>
  </div>
</nav>

<div
  id="nav-overlay"
  class="fixed inset-0 bg-black/60 backdrop-blur-sm opacity-0 pointer-events-none transition-opacity duration-500 z-90 md:hidden"
></div>

<script>
import {initNavbar} from "@/scripts/nav";

  initNavbar();

  document.addEventListener("astro:after-swap", () => {
    initNavbar();
  });
</script>
