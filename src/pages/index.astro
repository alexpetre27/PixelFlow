---
import Layout from '../layouts/Layout.astro';
import { client } from '../lib/sanity';
import Hero from '@/components/Hero.astro';
import Services from '@/components/Services.astro';
import Projects from '@/components/Projects.astro';
import Testimonials from '@/components/Testimonials.astro';
import Contact from '@/components/Contact.astro';

const projects = await client.fetch(`*[_type == "project"] | order(_createdAt desc) {
  title,
  description,
  category,
  "slug": slug.current,
  "imageUrl": image.asset->url
}`);
---

<Layout title="Pixelflow Studio | Portofoliu">
  <Hero />
  <Services />
  <main>
    <Projects projects={projects} pinnedProjectTitle="MicroManager" />
    <Testimonials />
    <Contact />
  </main>
</Layout>

